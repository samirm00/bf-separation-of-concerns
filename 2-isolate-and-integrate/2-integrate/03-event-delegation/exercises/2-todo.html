<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>Todo</title>
    </head>

    <body>
        <main id="user-interface">
            <ul id="list">
                <li><button>X</button><input value="start coding" /></li>
                <li><button>X</button><input value="stop coding" /></li>
                <li><button id="add-todo-button">+</button></li>
            </ul>
        </main>

        <script id="handlers">
            const deleteTodoHandler = (e) => {
                debugger;
                const target = e.target;
                if (target.nodeName === 'BUTTON' && target.innerHTML === 'X') {
                    const liToRemove = target.parentElement;
                    const todoList = document.getElementById('list');
                    todoList.removeChild(liToRemove);
                }
            };

            const addTodoHandler = (e) => {
                debugger;

                const newLi = document.createElement('li');
                const newButton = document.createElement('button');
                newButton.innerHTML = 'X';
                newLi.appendChild(newButton);
                const newInput = document.createElement('input');
                newLi.appendChild(newInput);

                const addButton = e.target;
                const addButtonParent = addButton.parentElement;
                const todoList = addButtonParent.parentElement;
                todoList.insertBefore(newLi, addButtonParent);
            };
        </script>

        <script id=" listeners">
            document
                .getElementById('add-todo-button')
                .addEventListener('click', (e) => {
                    addTodoHandler(e);
                });

            document.getElementById('list').addEventListener('click', (e) => {
                deleteTodoHandler(e);
            });
        </script>
    </body>
</html>

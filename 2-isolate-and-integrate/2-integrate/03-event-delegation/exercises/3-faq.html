<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <title>FAQ</title>
    </head>

    <body>
        <main id="user-interface">
            <section id="faqs">
                <details id="one-fish-details">
                    <summary id="one-fish-summary">one fish?</summary>
                    <p>if only there were two fish!</p>
                </details>
                <details id="two-fish-details">
                    <summary id="two-fish-summary">two fish?</summary>
                    <p>well now that we have two fish, don't you wish ...</p>
                </details>
                <details id="red-fish-details">
                    <summary id="red-fish-summary">red fish?</summary>
                    <p>... for a blue fish!</p>
                </details>
                <details id="blue-fish-details">
                    <summary id="blue-fish-summary">blue fish?</summary>
                    <p>ahhh.. that's the ticket</p>
                </details>
            </section>
        </main>

        <script id="handlers">
            const toggleFAQsHandler = (e) => {
                debugger;

                const target = e.target;
                if (target.nodeName !== 'SUMMARY') {
                    return;
                }

                const sectionEl = e.target.parentElement;
                const sectionChildren = sectionEl.children;

                Array.from(sectionChildren).forEach((child) => {
                    if (child.nodeName === 'SUMMARY') {
                        const isOpen = child.open === true;
                        if (isOpen) {
                            child.open = false;
                        }
                    }
                });
            };
        </script>

        <script id="listeners">
            document.getElementById('faqs').addEventListener('click', (e) => {
                toggleFAQsHandler(e);
            });
        </script>

        <!--
    https://developer.mozilla.org/en-US/docs/Web/HTML/Element/details
    https://stackoverflow.com/questions/16751345/automatically-close-all-the-other-details-tags-after-opening-a-specific-detai
  -->
    </body>
</html>

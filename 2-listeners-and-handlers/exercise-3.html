<!DOCTYPE html>
<html>
    <head>
        <title>Exercise 3</title>
        <meta charset="utf-8" />

        <style>
            .inputs {
                display: flex;
                flex-direction: column;
            }
        </style>
    </head>

    <body>
        <section id="user-interface">
            <form class="inputs" id="inputs">
                <select name="type" id="selector">
                    <option value="rock">rock</option>
                    <option value="paper">paper</option>
                    <option value="scissors">scissors</option>
                </select>
                <input
                    type="button"
                    id="user-action"
                    name="clickable"
                    value="a button"
                />
            </form>
        </section>

        <script id="handlers">
            'use strict';

            const first = (e) => {
                debugger;
                console.assert(e.target.id === 'selector', 'first: target.id');
                console.assert(
                    e.target.nodeName === 'SELECT',
                    'first: target.nodeName',
                );
                console.assert(
                    e.target.form.id === 'inputs',
                    'first: target.form.id',
                );
                console.assert(
                    e.target.childElementCount === 3,
                    'third: target.childElementCount',
                );
            };

            const second = (e) => {
                debugger;
                console.assert(e.type === 'blur', 'second: e.type');
                console.assert(e.target.id === 'selector', 'second: target.id');
                console.assert(
                    e.target.nodeName === 'SELECT',
                    'second: target.nodeName',
                );
                console.assert(e.target.name === 'type', 'second: target.name');
                console.assert(
                    (e.target.form.clickable.value = 'a button'),
                    'second: target.form.clickable.value',
                );
            };

            const third = (e) => {
                debugger;
                console.assert(e.type === 'click', 'third: e.type');
                console.assert(
                    e.target.id === 'user-action',
                    'third: target.id',
                );
                console.assert(
                    e.target.name === 'clickable',
                    'third: target.name',
                );
                console.assert(
                    e.target.nodeName === 'INPUT',
                    'third: target.nodeName',
                );
            };
        </script>

        <script id="listeners">
            document
                .getElementById('selector')
                .addEventListener('change', (e) => {
                    first(e);
                });
            document
                .getElementById('selector')
                .addEventListener('blur', (e) => {
                    second(e);
                });
            document
                .getElementById('user-action')
                .addEventListener('click', (e) => {
                    third(e);
                });
        </script>
    </body>
</html>
